## web浏览器跨域调试

> [跨域调试 - 浏览器随意打开一个网页 console中输入以下代码调试（注：http或https要一致）](http://www.04007.cn/article/799.html)
>
> ajax菜鸟教程链接：https://www.runoob.com/ajax/ajax-tutorial.html

```js
var xhr = new XMLHttpRequest();

xhr.open('GET', 'https://www.04007.cn/');

// xhr.open('GET', 'https://www.04007.cn/?username=xxx&password=xxx');

xhr.setRequestHeader('token','');

xhr.send(null);

xhr.onload = function(e) {

  var xhr = e.target;

  console.log(xhr.responseText);

}

```



## tp5.1 可配置路由解决跨域问题

> [手册 -- 路由 -> 跨域请求](https://www.kancloud.cn/manual/thinkphp5_1/489844)

```php
// 设置 api 模块跨域请求
Route::rule('api/:version/:controller/:function','api/:version.:controller/:function')
  ->header('Access-Control-Allow-Origin','*')
  ->header('Access-Control-Allow-Credentials', 'true')
  ->header('Access-Control-Allow-Headers', 'Origin,X-Requested-With,Content-Type,Accept,Connection,User-Agent,Cookie,Token')
  ->allowCrossDomain();

```

